{"version":3,"file":"pager.js","sources":["../../../pagination/src/pager.tsx"],"sourcesContent":["import { computed, defineComponent, toRefs } from 'vue'\nimport usePage from './hooks/use-page'\nimport { getCenterPage } from './hooks/utils'\nimport { PagerProps, pagerProps } from './pager'\n\nexport default defineComponent({\n  name: 'Pager',\n  props: pagerProps,\n  setup(props: PagerProps) {\n    console.log('3123414124141', props)\n    const { total, pageSize, pagerCount } = toRefs(props)\n    console.log(total)\n    const totalPage = computed(() => Math.ceil(total.value / pageSize.value))\n    const { pageIndex, setPageIndex, jumpPage, prevPage, nextPage } = usePage()\n\n    const centerPages = computed(() =>\n      getCenterPage(totalPage.value, pageIndex.value, pagerCount.value)\n    )\n\n    return {\n      totalPage,\n      pageIndex,\n      setPageIndex,\n      jumpPage,\n      prevPage,\n      nextPage,\n      centerPages\n    }\n  },\n  render() {\n    const {\n      pagerCount,\n      totalPage,\n      pageIndex,\n      setPageIndex,\n      jumpPage,\n      centerPages\n    } = this\n    return (\n      <ul class=\"b-pager\">\n        <li\n          onClick={() => setPageIndex(1)}\n          class={{ current: pageIndex === 1 }}\n        >\n          1\n        </li>\n        {/* 1.总页码totalPage大于按钮数量pagerCount */}\n        {/* 2.当中间页码大于Math.ceil(pagerCount / 2)时，应该出现左边的 ... */}\n        {totalPage > pagerCount && pageIndex > Math.ceil(pagerCount / 2) && (\n          <li class=\"more left\" onClick={() => jumpPage(-5)}>\n            ...\n          </li>\n        )}\n        {/* 总页面totalPage，当前页面pageIndex，最大显示页码数pageCount */}\n        {centerPages.map(page => (\n          <li\n            onClick={() => setPageIndex(page)}\n            class={{ current: pageIndex === page }}\n          >\n            {page}\n          </li>\n        ))}\n\n        {/* 1.总页码totalPage大于按钮数量pagerCount */}\n        {/* 2.当中间页码小于pagerCount - Math.ceil(pagerCount / 2) + 1时，应该出现左边的 ... */}\n        {totalPage > pagerCount &&\n          pageIndex < totalPage - Math.ceil(pagerCount / 2) + 1 && (\n            <li class=\"more right\" onClick={() => jumpPage(5)}>\n              ...\n            </li>\n          )}\n\n        {totalPage > 1 && (\n          <li\n            onClick={() => setPageIndex(totalPage)}\n            class={{ current: pageIndex === totalPage }}\n          >\n            {totalPage}\n          </li>\n        )}\n      </ul>\n    )\n  }\n})\n"],"names":["defineComponent","pagerProps","toRefs","computed","usePage","getCenterPage","_createVNode","_createTextVNode"],"mappings":";;;;;;AAKA,MAAe,QAAgBA,oCAAgB;AAAA,EAC7C,MAAM;AAAA,EACN,OAAOC,MAAU;AAAA,EACjB,MAAM,OAAO;AACX,YAAQ,IAAI,iBAAiB,KAAK;AAClC,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,IACN,IAAQC,IAAAA,OAAO,KAAK;AAChB,YAAQ,IAAI,KAAK;AACjB,UAAM,YAAYC,aAAS,MAAM,KAAK,KAAK,MAAM,QAAQ,SAAS,KAAK,CAAC;AACxE,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD,IAAGC,QAAO,QAAA;AACX,UAAM,cAAcD,IAAAA,SAAS,MAAME,MAAAA,cAAc,UAAU,OAAO,UAAU,OAAO,WAAW,KAAK,CAAC;AACpG,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN;AAAA,EACG;AAAA,EACD,SAAS;AACP,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD,IAAG;AACJ,WAAOC,IAAAA,YAAa,MAAM;AAAA,MACxB,SAAS;AAAA,IACf,GAAO,CAACA,IAAY,YAAC,MAAM;AAAA,MACrB,WAAW,MAAM,aAAa,CAAC;AAAA,MAC/B,SAAS;AAAA,QACP,SAAS,cAAc;AAAA,MACxB;AAAA,IACF,GAAE,CAACC,IAAAA,gBAAiB,GAAG,CAAC,CAAC,GAAG,YAAY,cAAc,YAAY,KAAK,KAAK,aAAa,CAAC,KAAKD,IAAAA,YAAa,MAAM;AAAA,MACjH,SAAS;AAAA,MACT,WAAW,MAAM,SAAS,EAAE;AAAA,IAClC,GAAO,CAACC,IAAAA,gBAAiB,KAAK,CAAC,CAAC,GAAG,YAAY,IAAI,UAAQD,IAAY,YAAC,MAAM;AAAA,MACxE,WAAW,MAAM,aAAa,IAAI;AAAA,MAClC,SAAS;AAAA,QACP,SAAS,cAAc;AAAA,MACxB;AAAA,IACP,GAAO,CAAC,IAAI,CAAC,CAAC,GAAG,YAAY,cAAc,YAAY,YAAY,KAAK,KAAK,aAAa,CAAC,IAAI,KAAKA,IAAY,YAAC,MAAM;AAAA,MACjH,SAAS;AAAA,MACT,WAAW,MAAM,SAAS,CAAC;AAAA,IACjC,GAAO,CAACC,IAAAA,gBAAiB,KAAK,CAAC,CAAC,GAAG,YAAY,KAAKD,IAAY,YAAC,MAAM;AAAA,MACjE,WAAW,MAAM,aAAa,SAAS;AAAA,MACvC,SAAS;AAAA,QACP,SAAS,cAAc;AAAA,MACxB;AAAA,IACP,GAAO,CAAC,SAAS,CAAC,CAAC,CAAC;AAAA,EACjB;AACH,CAAC;;"}