{"version":3,"file":"treeNode.vue.js","sources":["../../../tree/src/treeNode.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nimport BIcon from '@bear-ui/components/icon'\nimport Switcher from './icon/Switcher.tsx'\nimport { createNamespace } from '@bear-ui/hooks'\nimport { treeNodeProps, treeNodeEmitts } from './tree.ts'\nimport Loading from './icon/Loading.tsx'\nimport { computed } from 'vue'\nimport BTreeNodeContent from './tree-node-content.tsx'\nimport BCheckbox from '@bear-ui/components/checkbox'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'treeNode',\n  props: treeNodeProps,\n  emits: treeNodeEmitts,\n  setup(__props, { emit }) {\n\nconst props = __props;\n\nconst bem = createNamespace('tree-node')\n\n\nfunction handleExpand() {\n  emit('toggle', props.node)\n}\nconst isLoading = computed(() => {\n  //console.log('31231241244124', props.loadingKeys)\n  return props.loadingKeys.has(props.node.key)\n})\nconst isSelected = computed(() => {\n  return props.selectedKeys.includes(props.node.key)\n})\nfunction handleSelect() {\n  if (props.node.disabled) return\n  emit('select', props.node)\n}\nfunction handleCheckChange(value: boolean) {\n  emit('check', props.node, value)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\n      _unref(bem).b(),\n      _unref(bem).is('selected', _unref(isSelected)),\n      _unref(bem).is('disabled', _ctx.node.disabled)\n    ])\n  }, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(_unref(bem).e('content')),\n      style: _normalizeStyle({ paddingLeft: `${_ctx.node.level * 16}px` })\n    }, [\n      _createElementVNode(\"span\", {\n        class: _normalizeClass([\n          _unref(bem).e('expand-icon'),\n          { expanded: _ctx.expanded && !_ctx.node.isLeaf },\n          _unref(bem).is('leaf', _ctx.node.isLeaf)\n        ]),\n        onClick: handleExpand\n      }, [\n        _createVNode(_unref(BIcon), null, {\n          default: _withCtx(() => [\n            (!_unref(isLoading))\n              ? (_openBlock(), _createBlock(_unref(Switcher), { key: 0 }))\n              : (_openBlock(), _createBlock(_unref(Loading), { key: 1 }))\n          ]),\n          _: 1\n        })\n      ], 2),\n      (_ctx.showCheckbox)\n        ? (_openBlock(), _createBlock(_unref(BCheckbox), {\n            key: 0,\n            \"model-value\": _ctx.checked,\n            indeterminate: _ctx.indeterminate,\n            disabled: _ctx.disabled,\n            onChange: handleCheckChange\n          }, null, 8, [\"model-value\", \"indeterminate\", \"disabled\"]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"span\", {\n        class: _normalizeClass(_unref(bem).e('label')),\n        onClick: handleSelect\n      }, [\n        _createVNode(_unref(BTreeNodeContent), { node: _ctx.node }, null, 8, [\"node\"])\n      ], 2)\n    ], 6)\n  ], 2))\n}\n}\n\n})"],"names":["_defineComponent","treeNodeProps","treeNodeEmitts","createNamespace","computed","_openBlock","_createElementBlock","_normalizeClass","_unref","_createElementVNode","_normalizeStyle","_createVNode","BIcon","_withCtx","_createBlock","Switcher","Loading","BCheckbox","_createCommentVNode","BTreeNodeContent"],"mappings":"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"}