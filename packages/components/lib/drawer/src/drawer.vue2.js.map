{"version":3,"file":"drawer.vue2.js","sources":["../../../drawer/src/drawer.vue?vue&type=script&setup=true&lang.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, withModifiers as _withModifiers, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-760d30b0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"drawerHeader\" }\nconst _hoisted_2 = { class: \"drawerBody\" }\n\nimport { drawerProps } from './drawer'\r\nimport { computed } from 'vue'\r\nimport { createNamespace } from '@bear-ui/hooks/use-namespace'\r\ninterface MoveobjType{\r\n  [top:string]: string,\r\n  bottom: string,\r\n  left: string,\r\n  right: string,\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'drawer',\n  props: drawerProps,\n  emits: ['update:isShowDrawer','shutDown'],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\r\n\r\nconst moveObj : MoveobjType= {\r\n  top: \"topMove\",\r\n  bottom: \"bottomMove\",\r\n  left: \"leftMove\",\r\n  right: \"rightMove\",\r\n};\r\n\r\n// console.log(props)\r\ndefineOptions({\r\n  name: 'b-drawer'\r\n})\r\nconst bem = createNamespace('drawer')\r\nconsole.log(bem.be('wrap','content'))\r\n\r\nconst computedDrawerPosition = computed(() => {\r\n  interface positionObjType{\r\n    [width:string]: string,\r\n    height: string,\r\n  }\r\n  const positionObj :positionObjType= {\r\n    width:\r\n      (props.direction == \"left\") || (props.direction == \"right\")\r\n        ? \"30%\"\r\n        : \"100%\",\r\n    height:\r\n      (props.direction == \"top\") || (props.direction == \"bottom\")\r\n        ? \"30%\"\r\n        : \"100%\",\r\n  };\r\n  const dir = typeof props.direction!== 'undefined'? props.direction : \"\";\r\n  positionObj[dir] = \"0\";//top = 0 位置在上方\r\n  console.log(positionObj)\r\n  return positionObj;\r\n})\r\n\r\nconst computedName = computed(() => {\r\n  // switch props.direction:\r\n  //   case \r\n  return {\r\n    moveObj : typeof props.direction!== 'undefined'? moveObj[props.direction] : \"\"\r\n  }\r\n  \r\n})\r\n\r\n// 点击遮罩层关闭弹框\r\nfunction clickMaskCloseFn() {\r\n  if (props.clickMaskClose == true) {\r\n    closeDrawer();\r\n  } else {\r\n    /* 这里要控制一下冒泡事件，注意第十行使用@click.stop\r\n        不控制冒泡的话，点击内容区也会导致弹出框关闭*/\r\n    return;\r\n  }\r\n}\r\n// 准备关闭抽屉弹出框\r\nfunction closeDrawer() {\r\n  // 若传递了beforeClose函数，就抛出关闭函数，供外部使用\r\n  if (props.beforeClose) {\r\n    props.beforeClose(close);\r\n  }\r\n  // 没有beforeClose函数，直接关闭即可\r\n  else {\r\n    close();\r\n  }\r\n}\r\n// 关闭抽屉弹出框\r\nfunction close() {\r\n  emit(\"update:isShowDrawer\", false); // 关闭\r\n  emit(\"shutDown\"); // 并抛出一个shutDown通知事件\r\n}\r\n\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Transition, {\n    name: _unref(computedName).moveObj\n  }, {\n    default: _withCtx(() => [\n      _withDirectives(_createElementVNode(\"div\", {\n        class: _normalizeClass([_unref(bem).b(),{ isShowDrawerMask: _ctx.mask }]),\n        onClick: clickMaskCloseFn\n      }, [\n        _createElementVNode(\"div\", {\n          ref: \"drawerContentRef\",\n          class: _normalizeClass(_unref(bem).e('content')),\n          style: _normalizeStyle(_unref(computedDrawerPosition)),\n          onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _withDirectives(_createElementVNode(\"header\", _hoisted_1, [\n            _renderSlot(_ctx.$slots, \"title\", {}, () => [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.title), 1)\n            ], true),\n            _withDirectives(_createElementVNode(\"i\", {\n              class: \"close\",\n              onClick: closeDrawer\n            }, \" close \", 512), [\n              [_vShow, _ctx.showCloseIcon]\n            ])\n          ], 512), [\n            [_vShow, _ctx.isShowHeader]\n          ]),\n          _createElementVNode(\"section\", _hoisted_2, [\n            _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n          ])\n        ], 6)\n      ], 2), [\n        [_vShow, _ctx.isShowDrawer]\n      ])\n    ]),\n    _: 3\n  }, 8, [\"name\"]))\n}\n}\n\n})"],"names":["_defineComponent","drawerProps","createNamespace","computed","_openBlock","_createBlock","_Transition","_unref","_withCtx","_withDirectives","_createElementVNode","_normalizeClass","_normalizeStyle","_withModifiers","_renderSlot","_toDisplayString","_vShow"],"mappings":"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"}